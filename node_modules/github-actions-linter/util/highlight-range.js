"use strict";
/*!
 * Copyright 2019 Omar Tawfik. Please see LICENSE file at the root of this repository.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.EOL_REGEX = /\r?\n/;
function highlight(range, text) {
    if (range.start.line !== range.end.line) {
        throw new Error("Cannot format a multi-line range");
    }
    var result = Array();
    var lines = text.split(exports.EOL_REGEX);
    var _a = range.start, line = _a.line, start = _a.character;
    var end = range.end.character;
    var firstLine = Math.max(0, line - 2);
    var lastLine = Math.min(line + 2, lines.length - 1);
    for (var i = firstLine; i <= lastLine; i += 1) {
        result.push((i + 1).toString().padStart(3) + " | " + lines[i]);
        if (i === line) {
            result.push("    | " + "".padStart(start) + "".padStart(end - start, "^"));
        }
    }
    return result.join("\n");
}
exports.highlight = highlight;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy91dGlsL2hpZ2hsaWdodC1yYW5nZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBSVUsUUFBQSxTQUFTLEdBQUcsT0FBTyxDQUFDO0FBRWpDLFNBQWdCLFNBQVMsQ0FBQyxLQUFZLEVBQUUsSUFBWTtJQUNsRCxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFO1FBQ3ZDLE1BQU0sSUFBSSxLQUFLLENBQUMsa0NBQWtDLENBQUMsQ0FBQztLQUNyRDtJQUVELElBQU0sTUFBTSxHQUFHLEtBQUssRUFBVSxDQUFDO0lBRS9CLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQVMsQ0FBQyxDQUFDO0lBQzlCLElBQUEsZ0JBQXdDLEVBQXRDLGNBQUksRUFBRSxvQkFBZ0MsQ0FBQztJQUN2QyxJQUFBLHlCQUFjLENBQWU7SUFFckMsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRXRELEtBQUssSUFBSSxDQUFDLEdBQUcsU0FBUyxFQUFFLENBQUMsSUFBSSxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM3QyxNQUFNLENBQUMsSUFBSSxDQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsV0FBTSxLQUFLLENBQUMsQ0FBQyxDQUFHLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsS0FBSyxJQUFJLEVBQUU7WUFDZCxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLEdBQUcsR0FBRyxLQUFLLEVBQUUsR0FBRyxDQUFHLENBQUMsQ0FBQztTQUM1RTtLQUNGO0lBRUQsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzNCLENBQUM7QUF0QkQsOEJBc0JDIiwiZmlsZSI6InNyYy91dGlsL2hpZ2hsaWdodC1yYW5nZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IDIwMTkgT21hciBUYXdmaWsuIFBsZWFzZSBzZWUgTElDRU5TRSBmaWxlIGF0IHRoZSByb290IG9mIHRoaXMgcmVwb3NpdG9yeS5cbiAqL1xuXG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gXCJ2c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IEVPTF9SRUdFWCA9IC9cXHI/XFxuLztcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodChyYW5nZTogUmFuZ2UsIHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChyYW5nZS5zdGFydC5saW5lICE9PSByYW5nZS5lbmQubGluZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZvcm1hdCBhIG11bHRpLWxpbmUgcmFuZ2VgKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IEFycmF5PHN0cmluZz4oKTtcblxuICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoRU9MX1JFR0VYKTtcbiAgY29uc3QgeyBsaW5lLCBjaGFyYWN0ZXI6IHN0YXJ0IH0gPSByYW5nZS5zdGFydDtcbiAgY29uc3QgeyBjaGFyYWN0ZXI6IGVuZCB9ID0gcmFuZ2UuZW5kO1xuXG4gIGNvbnN0IGZpcnN0TGluZSA9IE1hdGgubWF4KDAsIGxpbmUgLSAyKTtcbiAgY29uc3QgbGFzdExpbmUgPSBNYXRoLm1pbihsaW5lICsgMiwgbGluZXMubGVuZ3RoIC0gMSk7XG5cbiAgZm9yIChsZXQgaSA9IGZpcnN0TGluZTsgaSA8PSBsYXN0TGluZTsgaSArPSAxKSB7XG4gICAgcmVzdWx0LnB1c2goYCR7KGkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDMpfSB8ICR7bGluZXNbaV19YCk7XG4gICAgaWYgKGkgPT09IGxpbmUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGAgICAgfCAke1wiXCIucGFkU3RhcnQoc3RhcnQpfSR7XCJcIi5wYWRTdGFydChlbmQgLSBzdGFydCwgXCJeXCIpfWApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQuam9pbihcIlxcblwiKTtcbn1cbiJdfQ==
